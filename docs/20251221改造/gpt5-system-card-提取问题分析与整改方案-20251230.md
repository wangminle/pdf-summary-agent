# GPT-5 System Card æå–é—®é¢˜åˆ†æä¸æ•´æ”¹æ–¹æ¡ˆ

> **æ–‡æ¡£ç‰ˆæœ¬**ï¼šV1.0  
> **åˆ›å»ºæ—¥æœŸ**ï¼š2025-12-30  
> **æµ‹è¯•PDF**ï¼š`tests/basic-benchmark/gpt-5-system-card/gpt-5-system-card.pdf`  
> **æµ‹è¯•å‚æ•°**ï¼š`--preset robust --include-caption on --debug-visual`

---

## ä¸€ã€æ ¸å¿ƒç»“è®º

> **å…³é”®å‘ç°**ï¼šé»„è‰²æ¡†çº¿ï¼ˆfallbackï¼‰æŠŠæ­£æ–‡/æ ‡é¢˜å¸¦è¿›æ¥ï¼Œ**ç»å¤§å¤šæ•°ä¸æ˜¯ `include-caption` æœ€åä¸€æ­¥å¯¼è‡´çš„**ï¼Œè€Œæ˜¯ `refine_safe` éªŒæ”¶/å›é€€ç­–ç•¥æŠŠæœ¬æ¥æ›´å¹²å‡€çš„ A/B/D ç»“æœæ‹’ç»æ‰ï¼Œå›é€€åˆ°äº† Baseline æˆ– A-onlyï¼Œè€Œ **Baseline æœ¬èº«å°±åŒ…å«æ­£æ–‡/æ ‡é¢˜**ã€‚

### é¢œè‰²é€Ÿè®°

| é¢œè‰² | é˜¶æ®µ | è¯´æ˜ |
|------|------|------|
| ğŸ”µ è“è‰² | Baseline | é”šç‚¹é€‰æ‹©é˜¶æ®µçš„åŸå§‹çª—å£ |
| ğŸŸ¢ ç»¿è‰² | Phase A | æ–‡æœ¬è£åˆ‡åçš„çª—å£ |
| ğŸŸ  æ©™è‰² | Phase B | å¯¹è±¡å¯¹é½åçš„çª—å£ |
| ğŸ”´ çº¢è‰² | Phase D | è‡ªåŠ¨è£å‰ªåçš„æœ€ç»ˆçª—å£ |
| ğŸŸ¡ é»„è‰² | Final | æœ€ç»ˆç»“æœï¼ˆA-only æˆ– revert baselineï¼‰ |

---

## äºŒã€é—®é¢˜å…±æ€§å½’çº³

| å…±æ€§ç±»å‹ | å½±å“é¡¹ç›® | é—®é¢˜æè¿° |
|---------|---------|---------|
| **å…±æ€§Aï¼šéªŒæ”¶å›é€€è¯¯åˆ¤** | Figure 9/18/22/28, Table 13/20/22/26 | Phase A/B/D å·²æ­£ç¡®è£æ‰æ­£æ–‡ï¼Œä½† `refine_safe` ä»¥ Baseline ä¸ºåˆ†æ¯çš„é«˜åº¦/é¢ç§¯/ink_mass é—¨æ§›æŠŠ"æ­£ç¡®çš„å¤§å¹…æ”¶ç¼©"è¯¯åˆ¤ä¸ºè¿‡è£ï¼Œå¯¼è‡´å›é€€åˆ°é»„æ¡†ï¼Œæ­£æ–‡å°±å›æ¥äº† |
| **å…±æ€§Bï¼šè¡¨æ ¼è¯¯æˆªæ–­** | Table 4 | Table çš„ far-side æ–‡æœ¬æ¸…é™¤æŠŠè¡¨æ ¼å†…å®¹è¯¯å½“æ­£æ–‡è£æ‰ï¼Œå¯¼è‡´ A-only è‡ªå·±å°±æˆªæ–­ |
| **å…±æ€§Cï¼šé¡µè„š/é¡µç æœªæ¸…ç†** | Table 9/25 | é¡µè„š/é¡µç ç±»å¢¨è¿¹ï¼ˆçª„ã€å°ã€å±…ä¸­ï¼‰ä¸è§¦å‘ç°æœ‰ trim è§„åˆ™ï¼Œautocrop ä¼šä¿ç•™ |
| **å…±æ€§Dï¼šTable baseline è¿‡å¤§** | Table 17/18 | Table anchor é€‰çª—/è¯„åˆ†é€‰äº†è¿‡é«˜çª—å£ï¼ŒæŠŠä¸‹æ–¹ç« èŠ‚æ ‡é¢˜/æ®µè½/å›¾åŒºåŸŸåŒ…å«è¿› baseline |

---

## ä¸‰ã€è¯¦ç»†é—®é¢˜åˆ†æ

### 3.1 Figure é—®é¢˜ï¼ˆ4é¡¹ï¼‰

#### Figure 9 (p25) - ä¸Šæ–¹å¤šæ­£æ–‡

- **ç°è±¡**ï¼šPhase A/B æŠŠä¸Šæ–¹æ­£æ–‡è£æ‰ï¼ˆy0 ä» 0 æ¨åˆ° 116.6ï¼‰ï¼Œä½†æœ€ç»ˆå›é€€åˆ° Baselineï¼Œæ­£æ–‡å›æ¥äº†
- **Debug è¯æ®**ï¼š
  - `images/debug/Figure_9_p25_legend.txt`ï¼šæœ€ç»ˆæ˜¯ `Fallback(Reverted to Baseline)`
  - `run.log.jsonl`ï¼š`refine_rejected` reasons `height=48.9%`
  - base `[26,0â†’222.3]`ï¼Œrefined `[67.5,116.6â†’225.3]`
- **æ ¹å› **ï¼šéªŒæ”¶ä»¥ Baseline é«˜åº¦ä¸ºåŸºå‡†ï¼Œè®¤ä¸º"æ”¶ç¼©å¤ªå¤š"â†’å›é€€åˆ° Baselineã€‚`far_covâ‰ˆ0.196` è¢«åˆ¤æˆ `"low_far_cov"`ï¼Œé˜ˆå€¼å·²æ”¾å®½åˆ° `relax_h=0.5` ä½†ä»ä¸å¤Ÿï¼ˆå®é™…â‰ˆ0.489ï¼‰

#### Figure 18 (p36) - æ©™æ¡†å¯¹ï¼Œé»„æ¡†å¤šä½™

- **ç°è±¡**ï¼šæ©™è‰²æ¡†çº¿æ­£ç¡®ï¼Œä½†æœ€ç»ˆæˆªå–çš„æ˜¯é»„è‰²æ¡†çº¿ï¼Œä¸Šæ–¹æœ‰å¤šä½™æ­£æ–‡æ®µè½
- **Debug è¯æ®**ï¼š
  - `images/debug/Figure_18_p36_legend.txt`ï¼šæœ€ç»ˆ `Fallback(Reverted to Baseline)`
  - `run.log.jsonl`ï¼š`refine_rejected` `height=37.6%`, `area=32.4%`
  - base `[26,345.8â†’665.8]`ï¼Œrefined `[63.7,548.4â†’668.8]`
- **æ ¹å› **ï¼šåŒ Figure 9ï¼ŒBaseline æŠŠä¸Šæ–¹æ ‡é¢˜/æ®µè½åŒ…è¿›æ¥ï¼ŒA/B/D æ­£ç¡®å‰”é™¤å¯¼è‡´é«˜åº¦/é¢ç§¯æ¯”å¤ªå°ï¼Œè¢« `refine_safe` åˆ¤"è¿‡è£"è€Œå›é€€

#### Figure 22 (p39) - ç»¿æ¡†å¯¹ï¼Œé»„æ¡†å¤šä½™

- **ç°è±¡**ï¼šç»¿è‰²æ¡†çº¿æ­£ç¡®ï¼Œä½†æœ€ç»ˆæˆªå–çš„æ˜¯é»„è‰²æ¡†çº¿ï¼Œä¸Šæ–¹æœ‰å¤šä½™æ­£æ–‡æ®µè½
- **Debug è¯æ®**ï¼š
  - `images/debug/Figure_22_p39_legend.txt`ï¼šæœ€ç»ˆ `Fallback(Reverted to Baseline)`
  - `run.log.jsonl`ï¼š`refine_rejected` `height=37.4%`, `area=31.2%`
  - base `[26,0â†’233.4]`ï¼Œrefined `[68.7,149.1â†’236.4]`
- **æ ¹å› **ï¼šåŒç±»é—®é¢˜ï¼ŒA/B ç»“æœæŠŠä¸Šæ–¹æ­£æ–‡è£æ‰ï¼Œä½†éªŒæ”¶ç”¨ Baseline åšåˆ†æ¯å¯¼è‡´æ¯”å€¼å¤ªä½ â†’ å›é€€
- **ç‰¹å¾**ï¼š`y0=0` çš„ Baseline åŸºæœ¬å¯ä»¥æŠŠ"Baseline åŒ…å«é¡µé¢é¡¶éƒ¨æ­£æ–‡"å½“æˆå¼ºä¿¡å·

#### Figure 28 (p44) - æ©™æ¡†å¯¹ï¼Œé»„æ¡†å¤šä½™

- **ç°è±¡**ï¼šæ©™è‰²æ¡†çº¿æ­£ç¡®ï¼Œä½†æœ€ç»ˆæˆªå–çš„æ˜¯é»„è‰²æ¡†çº¿ï¼Œä¸Šæ–¹æœ‰å¤šä½™æ­£æ–‡æ®µè½
- **Debug è¯æ®**ï¼š
  - `images/debug/Figure_28_p44_legend.txt`ï¼šæœ€ç»ˆ `Fallback(Reverted to Baseline)`
  - `run.log.jsonl`ï¼š`refine_rejected` `height=43.3%`, `area=37.3%`
  - base `[26,488.5â†’728.5]`ï¼Œrefined `[63.9,627.6â†’731.5]`
- **æ ¹å› **ï¼šæ­£ç¡®è£æ‰æ­£æ–‡åæ”¶ç¼©å¹…åº¦å¤§ï¼Œè¢«å½“ä½œ"è¿‡è£é£é™©"å›é€€

---

### 3.2 Table é—®é¢˜ï¼ˆ7é¡¹ï¼‰

#### Table 4 (p9) - è“æ¡†å¯¹ï¼Œè¡¨æ ¼è¢«æˆªæ–­

- **ç°è±¡**ï¼šè“è‰²æ¡†çº¿æ­£ç¡®ï¼Œä½†æœ€ç»ˆæˆªå–çš„æ˜¯é»„è‰²æ¡†çº¿ï¼Œè¿‡æ—©æˆªæ–­ï¼Œè¡¨æ ¼ä¸å…¨
- **Debug è¯æ®**ï¼š
  - `images/debug/Table_4_p9_legend.txt`ï¼šæœ€ç»ˆ `Final(A-only Fallback)`
  - Baseline `[26,155.2â†’349.3]`ï¼ŒFinal `[26,155.2â†’252.3]`
  - `run.log.jsonl`ï¼š`refine_rejected` `height=37.4%`, `area=30.5%`
- **æ ¹å› **ï¼š**ä¸ Figure é—®é¢˜ä¸åŒ**ï¼Phase A åœ¨ table é“¾è·¯é‡ŒæŠŠ"è¡¨æ ¼ä¸‹åŠéƒ¨åˆ†"å½“ä½œå¯æ¸…é™¤æ­£æ–‡è£æ‰äº†ï¼Œå¯¼è‡´ A-only æœ¬èº«å°±æˆªæ–­ã€‚è¡¨æ ¼æ˜¯"å¯†é›†æ–‡å­—+çº¿æ¡†"ï¼Œç”¨æ­£æ–‡å¯å‘å¼ï¼ˆ`width_ratio`/`font`ï¼‰å¾ˆå®¹æ˜“è¯¯åˆ¤

#### Table 9 (p15) - ä¸‹æ–¹å¤šæ­£æ–‡

- **ç°è±¡**ï¼šä¸‹æ–¹å¤šå‡ºæ¥æ­£æ–‡
- **Debug è¯æ®**ï¼š
  - `images/debug/Table_9_p15_legend.txt`ï¼šæœ€ç»ˆ `Phase D (Autocrop)`
  - D clip `y1=810.2`ï¼ˆç¦»é¡µåº•å¾ˆè¿‘ï¼‰
  - TEXT BLOCKS é‡Œå­˜åœ¨ `paragraph_group`ï¼ˆå¦‚ `y596.3â†’634.3`ï¼‰
- **æ ¹å› **ï¼šåº•éƒ¨å­˜åœ¨"é¡µç /è„šæ³¨/ä¸€ä¸¤è¡Œæ­£æ–‡"å½¢æˆå¢¨è¿¹ï¼Œautocrop ä¼šæŠŠå®ƒå½“å†…å®¹ä¿ç•™ï¼›è€Œå½“å‰"è¿œç«¯å»æ­£æ–‡/åå¤„ç†"é˜ˆå€¼æ²¡è§¦å‘æˆ–è¢« `protect_far_edge_px` ä¿ç•™

#### Table 13 (p21) - ç»¿æ¡†å¯¹ï¼Œé»„æ¡†å¤šä½™

- **ç°è±¡**ï¼šç»¿è‰²æ¡†çº¿æ­£ç¡®ï¼Œä½†æœ€ç»ˆæˆªå–çš„æ˜¯é»„è‰²æ¡†çº¿ï¼Œä¸‹æ–¹æœ‰å¤šä½™æ­£æ–‡æ®µè½
- **Debug è¯æ®**ï¼š
  - `images/debug/Table_13_p21_legend.txt`ï¼šæœ€ç»ˆ `Fallback(Reverted to Baseline)`
  - `run.log.jsonl`ï¼š`refine_rejected` `height=40.0%`, `area=34.0%`
  - base `[26,672.7â†’841.9]`ï¼Œrefined `[66.8,673.7â†’741.4]`
- **æ ¹å› **ï¼šä¸ Figure åŒç±»ï¼ŒA/B/D æŠŠåº•éƒ¨æ­£æ–‡åˆ‡æ‰å¯¼è‡´é«˜åº¦æ¯”ä¾‹è¿‡ä½ï¼Œè¢«éªŒæ”¶å›é€€åˆ° Baselineï¼ˆBaseline çš„ `y1=841.9` æ¥è¿‘é¡µåº•ï¼‰

#### Table 17 (p36) - é»„æ¡†ç¦»è°±ï¼Œä¸²åˆ°ä¸‹æ–¹å›¾/æ®µè½

- **ç°è±¡**ï¼šæ²¡æœ‰æŒ‰ç…§ table çš„è¡¨æ³¨ä½ç½®å¯»æ‰¾è¡¨æ ¼è¦†ç›–åŒºåŸŸï¼Œé»„è‰²åŒºåŸŸæ ‡æ³¨å¾ˆç¦»è°±ï¼Œå’Œä¸‹æ–¹çš„å›¾ä¸²äº†
- **Debug è¯æ®**ï¼š
  - `images/debug/Table_17_p36_legend.txt`ï¼šBaseline `[26,242.2â†’662.2]`ï¼ŒA-only `[26,242.2â†’472.4]`
  - TEXT BLOCKS æ˜¾ç¤ºåœ¨ `448â†’543` å¤„å°±æ˜¯ä¸‹ä¸€èŠ‚æ ‡é¢˜+æ®µè½
- **æ ¹å› **ï¼šæ ¸å¿ƒä¸æ˜¯"æ²¡æ‰¾åˆ° caption"ï¼Œcaption æ˜¯æ­£ç¡®çš„ï¼›é—®é¢˜æ˜¯ **table anchor é€‰çª—/è¯„åˆ†é€‰äº†ä¸€ä¸ªè¿‡é«˜çª—å£**ï¼ŒæŠŠä¸‹æ–¹"ç« èŠ‚æ ‡é¢˜+æ®µè½/ç”šè‡³ä¸‹ä¸€å¼ å›¾åŒºåŸŸ"ä¸€èµ·åŒ…å«è¿› baselineï¼›åç»­ refinement åˆè¢«éªŒæ”¶æ‹’ç»æˆ–æ²¡èƒ½ç¼©åˆ°ä½

#### Table 18 (p44) - ä¸€è¡Œè¡¨æ ¼ï¼Œä¸‹æ–¹åœˆå¤ªå¤š

- **ç°è±¡**ï¼šå°±æ˜¯ä¸€ä¸ªä¸€è¡Œæ•°æ®çš„è¡¨æ ¼ï¼Œä¸‹æ–¹åœˆè¿›æ¥è¿‡å¤šåŒºåŸŸ
- **Debug è¯æ®**ï¼š
  - `images/debug/Table_18_p44_legend.txt`ï¼šBaseline `[26,514.6â†’754.6]` å¾ˆé«˜
  - Phase B æŠŠ `y0` æ¨åˆ° 623 ä½†æœ€ç»ˆå›é€€åˆ° Baseline
- **æ ¹å› **ï¼šå…¸å‹"å°è¡¨æ ¼/çŸ­è¡¨"é—®é¢˜ï¼šå€™é€‰æœ€å°æ‰«æé«˜åº¦/`clip_height` ä¸‹é™åå¤§ï¼ˆè¡¨æœ¬ä½“å¾ˆçŸ®ï¼‰ï¼Œå¯¼è‡´ baseline å¿…ç„¶å¤¹å¸¦å¾ˆå¤šéè¡¨æ ¼å†…å®¹ï¼›å†åŠ ä¸ŠéªŒæ”¶å¯¹å¤§å¹…æ”¶ç¼©ä¸å‹å¥½ï¼Œå›é€€å°±æ›´æ˜æ˜¾

#### Table 20/22/26 - é»„æ¡†åŒ…å«ä¸‹æ–¹æ ‡é¢˜/æ­£æ–‡

- **ç°è±¡**ï¼šé»„è‰²æ¡†çº¿åŒ…å«äº†ä¸‹æ–¹æ­£æ–‡çš„æ ‡é¢˜æˆ–è€…æ­£æ–‡ï¼Œæ²¡èƒ½é¡ºåˆ©é¿å¼€
- **Debug è¯æ®**ï¼š
  - `Table_20_p50_legend.txt` / `Table_22_p51_legend.txt` / `Table_26_p56_legend.txt`
  - å¤šä¸º A-only æˆ– baseline ç›´æ¥æˆä¸º final
  - `run.log.jsonl` æ˜¾ç¤º table20/26 å¸¸è§ `refine_rejected ink_mass=88~90%`
- **æ ¹å› **ï¼šä¸¤ä¸ªé—®é¢˜å åŠ ï¼š
  - A) éªŒæ”¶å¯¹ table ä½¿ç”¨ `ink_mass` ä½œä¸ºå…³é”®é—¨æ§›ï¼ŒæŠŠ"åˆ é™¤æ ‡é¢˜/æ­£æ–‡ï¼ˆåº”åˆ ï¼‰"å½“ä½œä¿¡æ¯æŸå¤±
  - B) layout-guided "è¾¹ç¼˜æ•æ„Ÿ"å¯¹è¿™äº›é¡µæœªè§¦å‘æˆ–ä¸å¤Ÿå¼ºï¼ˆå¯¼è‡´ baseline ä»è¦†ç›–ä¸‹æ–¹ title/paragraphï¼‰

#### Table 25 (p55) - ä¸‹æ–¹å¤šé¡µç 

- **ç°è±¡**ï¼šä¸‹æ–¹å¤šäº†é¡µç ï¼Œæ²¡æœ‰å»é™¤
- **Debug è¯æ®**ï¼š
  - `images/debug/Table_25_p55_legend.txt`ï¼šPhase D æœ€ç»ˆ `y1=810.3`ï¼ˆä»å¯èƒ½è¦†ç›–é¡µè„šï¼‰
  - é¡µç é€šå¸¸å®½åº¦å¾ˆçª„ï¼Œä¸ä¼šè¢« `paragraph_ratio`/`width_ratio` è§„åˆ™è¯†åˆ«
- **æ ¹å› **ï¼šé¡µç å±äº"çª„ã€å°ã€å±…ä¸­"çš„æ–‡æœ¬å¢¨è¿¹ï¼šautocrop ä¼šä¿ç•™ï¼Œè€Œç°æœ‰ trim è§„åˆ™åå‘"å®½æ®µè½æ­£æ–‡"ï¼Œé¡µç ä¸ä¼šè§¦å‘

---

## å››ã€æ•´æ”¹æªæ–½æ±‡æ€»

### 4.1 P0 çº§åˆ«ï¼ˆæœ€é«˜ä¼˜å…ˆï¼Œç«‹å³å¤„ç†ï¼‰

| ç¼–å· | æ•´æ”¹æªæ–½ | å½±å“èŒƒå›´ | å®ç°è¦ç‚¹ |
|------|---------|---------|---------|
| **P0-A1** | **refine_safe è§„åˆ™å‡çº§ï¼šæ­£æ–‡è¯æ®â†’å…è®¸å¤§æ”¶ç¼©** | Figure 9/18/22/28, Table 13/18/20/22/26 | æ£€æµ‹åˆ°"è¢«ç§»é™¤åŒºåŸŸå‘½ä¸­æ­£æ–‡/æ ‡é¢˜ï¼ˆlayout text_blocks æˆ– text_lines è¯æ®ï¼‰"æ—¶ï¼š<br>1. å…è®¸æ›´ä½ `relax_h`/`relax_a`ï¼ˆå¦‚ä» 0.5 é™åˆ° 0.3ï¼‰<br>2. å…è®¸ final é€‰ A-only è€Œä¸æ˜¯å›é€€ baseline<br>3. å¯¹ `y0=0` çš„ Baselineï¼ˆé¡¶éƒ¨æ­£æ–‡ï¼‰ç›´æ¥æ”¾å®½ |
| **P0-A2** | **Table éªŒæ”¶æŒ‡æ ‡ ink_mass é™æƒ/æ¡ä»¶åŒ–** | Table 20/22/26 | è‹¥è¢«ç§»é™¤åŒºåŸŸæ˜¯ `title_*`/`paragraph_group`ï¼Œä¸åº”å›  `ink_mass` ä¸‹é™è€Œæ‹’ç»ï¼›æ”¹ç”¨ table-ç»“æ„è´¨é‡æŒ‡æ ‡ï¼ˆåˆ—å³°/çº¿å¯†åº¦ï¼‰è¯„ä¼° |
| **P0-C1** | **æ–°å¢é¡µè„š/é¡µç ä¸“é¡¹ trim** | Table 9/25ï¼ˆé€šç”¨äº figure/tableï¼‰ | åœ¨æœ€ç»ˆ clip çš„ far-edge zone å†…ï¼š<br>1. ç”¨ `page.get_text('dict')` æ‰¾åˆ° `^\d+$`/`Page \d+` ç­‰è¡Œ<br>2. æŠŠ `y1` æ¨ä¸Šå»ï¼ˆæ’é™¤é¡µç åŒºåŸŸï¼‰ |
| **P0-D1** | **Table anchor è¿‘ç«¯çº¦æŸ** | Table 17 | å¯¹ table å¢åŠ "ç¦» caption çš„è¿‘ç«¯çº¦æŸ"ï¼š`y0` å¿…é¡»è´´è¿‘ caption ä¸€å®šèŒƒå›´å†…ï¼Œå¦åˆ™å€™é€‰ç›´æ¥é™æƒ/å‰”é™¤ |

### 4.2 P1 çº§åˆ«ï¼ˆé‡è¦ï¼Œåç»­å¤„ç†ï¼‰

| ç¼–å· | æ•´æ”¹æªæ–½ | å½±å“èŒƒå›´ | å®ç°è¦ç‚¹ |
|------|---------|---------|---------|
| **P1-B1** | **Table far-side æ–‡æœ¬æ¸…é™¤åŠ è¡¨æ ¼ç»“æ„ veto** | Table 4 | ä»…å½“ far-side å‘½ä¸­ `layout_model` çš„ `paragraph_group`/`title_*` ä¸”çº¿å¯†åº¦/åˆ—å³°ä¸æ»¡è¶³"è¡¨æ ¼ç‰¹å¾"æ—¶æ‰ trim |
| **P1-B2** | **è¡¨æ ¼å†…éƒ¨æ–‡æœ¬è¯†åˆ«** | Table 4 | ç”¨åˆ—å¯¹é½å³°+çº¿æ®µå¯†åº¦åˆ¤æ–­æ˜¯å¦ä»æ˜¯ table ç»“æ„ï¼Œè‹¥æ˜¯åˆ™ä¸è£ |
| **P1-C2** | **å¢å¼º table post-autocrop far-side trim** | Table 9 | å½“ far-edge é™„è¿‘å‘½ä¸­ paragraph/title text_blocks å³æ”¶ç¼©ï¼ˆæ‰©å¤§ edge-strip èŒƒå›´ï¼‰ |
| **P1-D4** | **Table å°è¡¨æ¨¡å¼** | Table 18 | ç»™ table æ‰«æå¢åŠ æ›´å°çª—å£é«˜åº¦ï¼ˆ120/160ptï¼‰ï¼Œæˆ–æ£€æµ‹åˆ°è¡¨æ ¼çº¿å¯†åº¦é«˜ä½†é«˜åº¦ä½æ—¶èµ°"å°è¡¨æ¨¡å¼" |
| **P1-A3** | **å¼ºåŒ– layout edge-strip** | é€šç”¨ | æ›´å¤§èŒƒå›´ã€å¯¹ `title_h1`/`h2` é™ä½å®½åº¦é—¨æ§›ï¼Œç¡®ä¿ baseline å…ˆæ”¶ç¼©åˆ°ä¸å«ä¸‹ä¸€èŠ‚æ ‡é¢˜ |

### 4.3 P2 çº§åˆ«ï¼ˆä¼˜åŒ–ï¼Œåç»­è€ƒè™‘ï¼‰

| ç¼–å· | æ•´æ”¹æªæ–½ | å½±å“èŒƒå›´ | å®ç°è¦ç‚¹ |
|------|---------|---------|---------|
| **P2-D2** | **Table è¯„åˆ†æƒ©ç½šå¤§æ®µæ­£æ–‡** | Table 17 | åœ¨ table è¯„åˆ†ä¸­å¯¹"åŒ…å«å¤§æ®µ `paragraph_group`/`title_*`"å¢åŠ æƒ©ç½š |
| **P2-D3** | **Table-likeness ä¸‹æ¢è£å‰ª** | Table 17 | å¦‚æœ far-side åŒºåŸŸåˆ—å³°/çº¿å¯†åº¦æ€¥å‰§ä¸‹é™ä¸”å‡ºç°å¤§å›¾å¯¹è±¡ï¼Œè‡ªåŠ¨æŠŠ `y1` æ¨å› |

---

## äº”ã€å»ºè®®å®æ–½é¡ºåº

### ç¬¬ä¸€è½®æœ€å°å›å½’ï¼ˆå…±æ€§A + å…±æ€§Cï¼‰

1. å®ç° **P0-A1**ï¼ˆéªŒæ”¶è§„åˆ™å‡çº§ï¼‰
2. å®ç° **P0-C1**ï¼ˆé¡µç ä¸“é¡¹ trimï¼‰

**éªŒè¯ç‚¹**ï¼šFigure 9/18/22/28ã€Table 13/20/22/26ã€Table 25 çš„é»„æ¡†å›é€€æ˜æ˜¾å‡å°‘

### ç¬¬äºŒè½®ï¼ˆå…±æ€§B + å…±æ€§Dï¼‰

1. å®ç° **P0-A2**ï¼ˆTable ink_mass é™æƒï¼‰
2. å®ç° **P0-D1**ï¼ˆTable anchor è¿‘ç«¯çº¦æŸï¼‰
3. å®ç° **P1-B1/B2**ï¼ˆTable far-side vetoï¼‰
4. å®ç° **P1-D4**ï¼ˆå°è¡¨æ¨¡å¼ï¼‰

**éªŒè¯ç‚¹**ï¼šTable 4/17/18 é—®é¢˜è§£å†³

---

## å…­ã€æŠ€æœ¯å®ç°æ–¹å‘

### 6.1 P0-A1ï¼šrefine_safe è§„åˆ™å‡çº§

```python
# ä¼ªä»£ç ï¼šåœ¨éªŒæ”¶åˆ¤æ–­å‰å¢åŠ "æ­£æ–‡è¯æ®"æ£€æµ‹
def _should_allow_aggressive_shrink(
    base_clip: fitz.Rect,
    refined_clip: fitz.Rect,
    layout_model: DocumentLayoutModel,
    page_no: int,
) -> bool:
    """æ£€æµ‹è¢«ç§»é™¤åŒºåŸŸæ˜¯å¦ä¸»è¦æ˜¯æ­£æ–‡/æ ‡é¢˜"""
    removed_top = fitz.Rect(base_clip.x0, base_clip.y0, base_clip.x1, refined_clip.y0)
    removed_bottom = fitz.Rect(base_clip.x0, refined_clip.y1, base_clip.x1, base_clip.y1)
    
    # æ£€æµ‹ç§»é™¤åŒºåŸŸæ˜¯å¦å‘½ä¸­ paragraph_group/title_*
    for tb in layout_model.text_blocks_on_page(page_no):
        if tb.block_type in ('paragraph_group', 'title_h1', 'title_h2', 'title_h3'):
            if _rect_overlap_ratio(tb.bbox, removed_top) > 0.5:
                return True
            if _rect_overlap_ratio(tb.bbox, removed_bottom) > 0.5:
                return True
    return False

# åœ¨éªŒæ”¶é€»è¾‘ä¸­ä½¿ç”¨
if _should_allow_aggressive_shrink(base_clip, refined_clip, layout_model, pno):
    # å…è®¸æ›´æ¿€è¿›çš„æ”¶ç¼©
    relax_h = min(relax_h, 0.30)
    relax_a = min(relax_a, 0.25)
```

### 6.2 P0-C1ï¼šé¡µç ä¸“é¡¹ trim

```python
def _trim_page_number(
    clip: fitz.Rect,
    page: fitz.Page,
    side: str,  # 'above' | 'below'
    gap: float = 6.0,
) -> fitz.Rect:
    """ç§»é™¤ clip è¾¹ç¼˜çš„é¡µç """
    import re
    page_num_pattern = re.compile(r'^\s*\d+\s*$|^Page\s+\d+', re.IGNORECASE)
    
    # æ£€æµ‹ far-edge zone å†…çš„æ–‡æœ¬
    far_edge_zone = 50.0  # pt
    if side == 'above':  # caption åœ¨ä¸‹ï¼Œå†…å®¹åœ¨ä¸Šï¼Œfar-edge æ˜¯ top
        zone = fitz.Rect(clip.x0, clip.y0, clip.x1, clip.y0 + far_edge_zone)
    else:  # caption åœ¨ä¸Šï¼Œå†…å®¹åœ¨ä¸‹ï¼Œfar-edge æ˜¯ bottom
        zone = fitz.Rect(clip.x0, clip.y1 - far_edge_zone, clip.x1, clip.y1)
    
    blocks = page.get_text('dict', clip=zone)['blocks']
    for block in blocks:
        if block['type'] == 0:  # text block
            for line in block['lines']:
                text = ''.join(span['text'] for span in line['spans']).strip()
                if page_num_pattern.match(text):
                    line_rect = fitz.Rect(line['bbox'])
                    # æ”¶ç¼© clip
                    if side == 'above':
                        clip.y0 = max(clip.y0, line_rect.y1 + gap)
                    else:
                        clip.y1 = min(clip.y1, line_rect.y0 - gap)
    return clip
```

### 6.3 P0-D1ï¼šTable anchor è¿‘ç«¯çº¦æŸ

```python
def _score_table_candidate_with_proximity(
    candidate_clip: fitz.Rect,
    caption_rect: fitz.Rect,
    side: str,  # 'above' | 'below'
    max_gap: float = 100.0,  # æœ€å¤§å…è®¸é—´è·
) -> float:
    """å¯¹ table å€™é€‰çª—å£å¢åŠ è¿‘ç«¯çº¦æŸè¯„åˆ†"""
    if side == 'above':
        # caption åœ¨ä¸‹æ–¹ï¼Œè¡¨æ ¼å†…å®¹åœ¨ä¸Šæ–¹
        gap = caption_rect.y0 - candidate_clip.y1
    else:
        # caption åœ¨ä¸Šæ–¹ï¼Œè¡¨æ ¼å†…å®¹åœ¨ä¸‹æ–¹
        gap = candidate_clip.y0 - caption_rect.y1
    
    if gap > max_gap:
        return 0.0  # ç›´æ¥å‰”é™¤
    
    # è·ç¦»è¶Šè¿‘å¾—åˆ†è¶Šé«˜
    proximity_score = max(0.0, 1.0 - gap / max_gap)
    return proximity_score
```

---

## ä¸ƒã€éªŒæ”¶æ ‡å‡†

### ç¬¬ä¸€è½®éªŒæ”¶ï¼ˆP0-A1 + P0-C1 å®æ–½åï¼‰

| é¡¹ç›® | æœŸæœ›ç»“æœ |
|------|---------|
| Figure 9 | æœ€ç»ˆç»“æœåº”ä¸ºç»¿è‰²/æ©™è‰²æ¡†ï¼ˆPhase A/Bï¼‰ï¼Œä¸å†å›é€€åˆ°è“è‰² Baseline |
| Figure 18 | æœ€ç»ˆç»“æœåº”ä¸ºæ©™è‰²æ¡†ï¼ˆPhase Bï¼‰ï¼Œä¸å†å›é€€ |
| Figure 22 | æœ€ç»ˆç»“æœåº”ä¸ºç»¿è‰²æ¡†ï¼ˆPhase Aï¼‰ï¼Œä¸å†å›é€€ |
| Figure 28 | æœ€ç»ˆç»“æœåº”ä¸ºæ©™è‰²æ¡†ï¼ˆPhase Bï¼‰ï¼Œä¸å†å›é€€ |
| Table 13 | æœ€ç»ˆç»“æœåº”ä¸ºç»¿è‰²æ¡†ï¼ˆPhase Aï¼‰ï¼Œä¸å†å›é€€ |
| Table 20/22/26 | æœ€ç»ˆç»“æœä¸å†åŒ…å«ä¸‹æ–¹æ ‡é¢˜/æ­£æ–‡ |
| Table 25 | æœ€ç»ˆç»“æœä¸å†åŒ…å«é¡µç  |

### ç¬¬äºŒè½®éªŒæ”¶ï¼ˆP0-A2 + P0-D1 + P1 å®æ–½åï¼‰

| é¡¹ç›® | æœŸæœ›ç»“æœ |
|------|---------|
| Table 4 | è¡¨æ ¼å®Œæ•´ï¼Œä¸è¢«æˆªæ–­ |
| Table 17 | é»„è‰²æ¡†ä¸å†ä¸²åˆ°ä¸‹æ–¹ Figure 18 åŒºåŸŸ |
| Table 18 | ä¸€è¡Œè¡¨æ ¼ç²¾å‡†æå–ï¼Œä¸å¤¹å¸¦è¿‡å¤šå†…å®¹ |

---

## å…«ã€å‚è€ƒèµ„æ–™

- Debug æ–‡ä»¶ä½ç½®ï¼š`tests/basic-benchmark/gpt-5-system-card/images/debug/`
- è¿è¡Œæ—¥å¿—ï¼š`tests/basic-benchmark/gpt-5-system-card/images/run.log.jsonl`
- æå–è„šæœ¬ï¼š`scripts/extract_pdf_assets.py`
- éªŒæ”¶é€»è¾‘ï¼š`_adaptive_acceptance_thresholds()` å‡½æ•°
- æ–‡æœ¬è£åˆ‡é€»è¾‘ï¼š`_trim_clip_head_by_text_v2()` å‡½æ•°
