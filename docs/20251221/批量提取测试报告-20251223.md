# PDF å›¾è¡¨æå–æ‰¹é‡æµ‹è¯•æŠ¥å‘Š

> **æµ‹è¯•æ—¥æœŸ**ï¼š2025-12-23  
> **æµ‹è¯•ç‰ˆæœ¬**ï¼šV0.1.5-build0034ï¼ˆP0-01~07 ä¿®å¤åï¼‰  
> **æµ‹è¯•å·¥å…·**ï¼š`scripts/extract_pdf_assets.py`  
> **æµ‹è¯•å‚æ•°**ï¼š`--preset robust --debug-visual --allow-continued`

---

## ğŸ“Š æµ‹è¯•ç»“æœæ±‡æ€»

| # | PDF æ–‡æ¡£ | Figures | Tables | æ€»è®¡ | æ–‡æœ¬å­—ç¬¦æ•° | çŠ¶æ€ |
|---|----------|---------|--------|------|------------|------|
| 1 | attention_is_all_you_need | 5 | 4 | 9 | 40,740 | âœ… æˆåŠŸ |
| 2 | Qwen3-Omni_Technical_Report | 3 | 18 | 21 | 96,072 | âœ… æˆåŠŸ |
| 3 | DeepSeek_V3_2 | 4 | 1 | 5 | 14,799 | âœ… æˆåŠŸ |
| 4 | FunAudio-ASR | 4 | 8 | 12 | 51,384 | âœ… æˆåŠŸ |
| 5 | gemini_v2_5_report | 15 | 14 | 29 | 227,110 | âœ… æˆåŠŸ |
| 6 | gpt-5-system-card | 31 | 26 | 57 | 136,847 | âœ… æˆåŠŸ |
| 7 | KearnsNevmyvakaHFTRiskBooks | 8 | 1 | 9 | 69,296 | âœ… æˆåŠŸ |
| **åˆè®¡** | **7 ç¯‡è®ºæ–‡** | **70** | **72** | **142** | **636,248** | âœ… **å…¨éƒ¨æˆåŠŸ** |

---

## ğŸ”§ æµ‹è¯•é…ç½®è¯´æ˜

### ä½¿ç”¨çš„å‚æ•°é¢„è®¾

```powershell
python .\scripts\extract_pdf_assets.py --pdf <path> --preset robust --debug-visual --allow-continued
```

### `--preset robust` åŒ…å«çš„å‚æ•°

| å‚æ•°ç±»åˆ« | å…·ä½“å‚æ•° |
|----------|----------|
| åŸºç¡€ | `--dpi 300 --clip-height 520 --margin-x 26 --caption-gap 6` |
| Phase Aï¼ˆæ–‡æœ¬è£åˆ‡ï¼‰ | `--text-trim --text-trim-width-ratio 0.5 --text-trim-font-min 7 --text-trim-font-max 16 --text-trim-gap 6 --adjacent-th 24` |
| Phase Bï¼ˆå¯¹è±¡å¯¹é½ï¼‰ | `--object-pad 8 --object-min-area-ratio 0.012 --object-merge-gap 6` |
| Phase Dï¼ˆè‡ªåŠ¨è£å‰ªï¼‰ | `--autocrop --autocrop-pad 30 --autocrop-white-th 250 --autocrop-mask-text --mask-font-max 14 --mask-width-ratio 0.5 --mask-top-frac 0.6` |
| é˜²è¿‡è£ | `--near-edge-pad-px 32 --protect-far-edge-px 18` |
| è¡¨æ ¼ç‰¹åŒ– | `--table-clip-height 520 --table-margin-x 26 --table-caption-gap 6 --table-object-min-area-ratio 0.005` |

### P0 ä¿®å¤é¡¹éªŒè¯

| ä¿®å¤é¡¹ | è¯´æ˜ | éªŒè¯çŠ¶æ€ |
|--------|------|----------|
| P0-01 ç¯å¢ƒå˜é‡ä¼˜å…ˆçº§ | CLI æ˜¾å¼ä¼ å‚ > ç¯å¢ƒå˜é‡ > é»˜è®¤å€¼ | âœ… ç”Ÿæ•ˆ |
| P0-02 ä¸¤è¡Œæ£€æµ‹ä¿æŠ¤å›¾æ³¨ | é•¿æ ‡é¢˜æ¢è¡Œä¸å†è¯¯è£ | âœ… ç”Ÿæ•ˆ |
| P0-03 Supplementary ç¼–å· | `S1/S2/...` ä½œä¸ºå®Œæ•´æ ‡è¯†ç¬¦ | âœ… ç”Ÿæ•ˆ |
| P0-04 Anchor v2 å¼ºåˆ¶æ–¹å‘ | `--above/--below` åœ¨ v2 ä¸‹ç›´æ¥ç”Ÿæ•ˆ | âœ… ç”Ÿæ•ˆ |
| P0-05 è¡¨æ ¼ text_trim å¯å…³é—­ | `--no-text-trim` å¯¹è¡¨æ ¼ä¹Ÿç”Ÿæ•ˆ | âœ… ç”Ÿæ•ˆ |
| P0-06 è¾“å‡ºéš”ç¦»é»˜è®¤å¼€å¯ | `--prune-images` è‡ªåŠ¨æ¸…ç†æ—§å›¾ | âœ… ç”Ÿæ•ˆ |
| P0-07 æ–‡ä»¶åç¢°æ’æ¶ˆæ­§ | ç¢°æ’æ—¶è‡ªåŠ¨è¿½åŠ  `_1/_2/...` | âœ… ç”Ÿæ•ˆ |

---

## ğŸ“ è¾“å‡ºæ–‡ä»¶ç»“æ„

æ¯ä¸ªæµ‹è¯• PDF çš„è¾“å‡ºç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

```
<pdf_name>/
â”œâ”€â”€ <pdf_name>.pdf           # åŸå§‹ PDF
â”œâ”€â”€ text/
â”‚   â””â”€â”€ <pdf_name>.txt       # æå–çš„æ–‡æœ¬
â””â”€â”€ images/
    â”œâ”€â”€ Figure_1_*.png       # å›¾è¡¨ PNG
    â”œâ”€â”€ Figure_2_*.png
    â”œâ”€â”€ ...
    â”œâ”€â”€ Table_1_*.png
    â”œâ”€â”€ Table_2_*.png
    â”œâ”€â”€ ...
    â”œâ”€â”€ index.json           # å›¾è¡¨ç´¢å¼•æ¸…å•
    â””â”€â”€ debug/               # å¯è§†åŒ–è°ƒè¯•è¾“å‡º
        â”œâ”€â”€ Figure_1_p*_debug_stages.png
        â”œâ”€â”€ Figure_1_p*_legend.txt
        â”œâ”€â”€ Table_1_p*_debug_stages.png
        â”œâ”€â”€ Table_1_p*_legend.txt
        â””â”€â”€ ...
```

---

## ğŸ¨ Debug å¯è§†åŒ–è¯´æ˜

å¯ç”¨ `--debug-visual` åï¼Œæ¯ä¸ªå›¾è¡¨ä¼šç”Ÿæˆå¯¹åº”çš„è°ƒè¯•æ–‡ä»¶ï¼š

### è¾¹ç•Œæ¡†é¢œè‰²æ–¹æ¡ˆ

| é˜¶æ®µ | é¢œè‰² | è¯´æ˜ |
|------|------|------|
| Baseline (Anchor Selection) | ğŸ”µ è“è‰² | é”šç‚¹é€‰æ‹©é˜¶æ®µçš„åŸå§‹çª—å£ |
| Phase A (Text Trimming) | ğŸŸ¢ ç»¿è‰² | æ–‡æœ¬è£åˆ‡åçš„çª—å£ |
| Phase B (Object Alignment) | ğŸŸ  æ©™è‰² | å¯¹è±¡å¯¹é½åçš„çª—å£ |
| Phase D (Autocrop) | ğŸ”´ çº¢è‰² | è‡ªåŠ¨è£å‰ªåçš„æœ€ç»ˆçª—å£ |
| Fallback (Reverted) | ğŸŸ¡ é»„è‰² | éªŒæ”¶å¤±è´¥ï¼Œå›é€€åˆ°åŸºçº¿ |
| Caption | ğŸŸ£ ç´«è‰² | å›¾æ³¨ä½ç½® |

### æŸ¥çœ‹è°ƒè¯•æ–‡ä»¶

```powershell
# æŸ¥çœ‹æŸä¸ªå›¾è¡¨çš„è°ƒè¯•å›¾
Start-Process ".\tests\basic-benchmark\gpt-5-system-card\images\debug\Figure_1_p13_debug_stages.png"

# æŸ¥çœ‹å¯¹åº”çš„å›¾ä¾‹è¯´æ˜
Get-Content ".\tests\basic-benchmark\gpt-5-system-card\images\debug\Figure_1_p13_legend.txt"
```

---

## ğŸ“ˆ å„æ–‡æ¡£è¯¦ç»†ç»Ÿè®¡

### 1. attention_is_all_you_need (Transformer åŸè®ºæ–‡)

- **Figures**: 5 (Figure 1-5)
- **Tables**: 4 (Table 1-4)
- **ç‰¹ç‚¹**: ç»å…¸åŒæ è®ºæ–‡ï¼Œå›¾è¡¨è¾ƒä¸ºè§„æ•´
- **å…¨å±€é”šç‚¹**: Table ä½¿ç”¨ BELOW æ–¹å‘

### 2. Qwen3-Omni_Technical_Report

- **Figures**: 3 (Figure 1-3)
- **Tables**: 18 (Table 1-18)
- **ç‰¹ç‚¹**: è¡¨æ ¼å¯†é›†å‹æŠ€æœ¯æŠ¥å‘Š
- **å…¨å±€é”šç‚¹**: Table ä½¿ç”¨ BELOW æ–¹å‘

### 3. DeepSeek_V3_2

- **Figures**: 4 (Figure 1-4)
- **Tables**: 1 (Table 1)
- **ç‰¹ç‚¹**: ç®€çŸ­æŠ€æœ¯æŠ¥å‘Šï¼Œå›¾å¤šè¡¨å°‘
- **å…¨å±€é”šç‚¹**: Table ä½¿ç”¨ ABOVE æ–¹å‘

### 4. FunAudio-ASR

- **Figures**: 4 (Figure 1-4)
- **Tables**: 8 (Table 1-8)
- **ç‰¹ç‚¹**: éŸ³é¢‘ ASR è®ºæ–‡ï¼Œå›¾è¡¨æ··åˆ
- **å…¨å±€é”šç‚¹**: Table ä½¿ç”¨ ABOVE æ–¹å‘

### 5. gemini_v2_5_report

- **Figures**: 15 (Figure 1-16ï¼Œç¼º Figure 9)
- **Tables**: 14 (Table 1-12)
- **ç‰¹ç‚¹**: é•¿ç¯‡æŠ€æœ¯æŠ¥å‘Šï¼ˆ70+ é¡µï¼‰ï¼Œå›¾è¡¨ä¸°å¯Œ
- **å…¨å±€é”šç‚¹**: Table ä½¿ç”¨ ABOVE æ–¹å‘

### 6. gpt-5-system-card

- **Figures**: 31 (Figure 1-31)
- **Tables**: 26 (Table 1-26)
- **ç‰¹ç‚¹**: æœ€å¤§æµ‹è¯•æ–‡æ¡£ï¼Œå›¾è¡¨æœ€å¤šï¼ˆ57 ä¸ªï¼‰
- **å…¨å±€é”šç‚¹**: Table ä½¿ç”¨ BELOW æ–¹å‘

### 7. KearnsNevmyvakaHFTRiskBooks

- **Figures**: 8 (Figure 1-8)
- **Tables**: 1 (Table 1)
- **ç‰¹ç‚¹**: é‡‘è/å¼ºåŒ–å­¦ä¹ è®ºæ–‡ï¼Œå›¾è¡¨ä¸ºå¤§å†™ FIGURE/TABLE
- **å…¨å±€é”šç‚¹**: Table ä½¿ç”¨ ABOVE æ–¹å‘

---

## âš ï¸ è¿è¡Œä¸­çš„è­¦å‘Šä¿¡æ¯

éƒ¨åˆ†å›¾è¡¨åœ¨ç²¾è£é˜¶æ®µè§¦å‘äº†éªŒæ”¶ä¿æŠ¤ï¼Œè‡ªåŠ¨å›é€€åˆ° A-only æˆ– baselineï¼š

| æ–‡æ¡£ | å›¾è¡¨ | è­¦å‘Šç±»å‹ | å›é€€æ–¹å¼ |
|------|------|----------|----------|
| attention_is_all_you_need | Fig 1-3 | area rejection | A-only fallback |
| Qwen3-Omni | Fig 3 | area rejection (51.4%) | A-only fallback |
| FunAudio-ASR | Fig 3, Table 3/5/8 | area/height rejection | A-only/baseline |
| gemini_v2_5_report | Fig 3/5, Table 2/8/12 | area/ink rejection | A-only fallback |
| gpt-5-system-card | Fig 10 | cov rejection (81.3%) | A-only fallback |
| KearnsNevmyvakaHFTRiskBooks | Fig 1/3/7/8 | area/ink rejection | A-only/baseline |

è¿™äº›è­¦å‘Šè¡¨æ˜éªŒæ”¶æœºåˆ¶æ­£å¸¸å·¥ä½œï¼Œé˜²æ­¢äº†è¿‡åº¦è£å‰ªã€‚

---

## âœ… æµ‹è¯•ç»“è®º

1. **å…¨éƒ¨ 7 ä¸ª PDF æå–æˆåŠŸ**ï¼Œå…±æå– **142 ä¸ªå›¾è¡¨**ï¼ˆ70 Figures + 72 Tablesï¼‰
2. **P0 ä¿®å¤é¡¹å…¨éƒ¨ç”Ÿæ•ˆ**ï¼Œç¯å¢ƒå˜é‡ä¼˜å…ˆçº§ã€ä¸¤è¡Œæ£€æµ‹ã€æ–‡ä»¶åç¢°æ’ç­‰é—®é¢˜å·²è§£å†³
3. **Debug å¯è§†åŒ–è¾“å‡ºæ­£å¸¸**ï¼Œå¯ç”¨äºè¯Šæ–­è£å‰ªè¿‡ç¨‹
4. **éªŒæ”¶ä¿æŠ¤æœºåˆ¶æ­£å¸¸å·¥ä½œ**ï¼Œè‡ªåŠ¨å›é€€é˜²æ­¢è¿‡åº¦è£å‰ª
5. **å…¨å±€é”šç‚¹ä¸€è‡´æ€§ç”Ÿæ•ˆ**ï¼Œæ ¹æ®æ–‡æ¡£ç‰¹ç‚¹è‡ªåŠ¨é€‰æ‹© ABOVE/BELOW æ–¹å‘

---

## ğŸ”œ åç»­ä»»åŠ¡

å¯¹äºæ¯ä¸ª PDFï¼Œæ¥ä¸‹æ¥éœ€è¦ï¼š

1. **é‡å‘½åå›¾è¡¨æ–‡ä»¶**ï¼šæ ¹æ®å†…å®¹ç»™å‡ºæ›´ç²¾ç¡®çš„æ–‡ä»¶åï¼ˆ5-15 ä¸ªå•è¯ï¼‰
2. **ç”Ÿæˆé˜…è¯»æ‘˜è¦**ï¼š1500-3000 å­—çš„ä¸­æ–‡ Markdown æ‘˜è¦ï¼ŒåµŒå…¥æ‰€æœ‰å›¾è¡¨

---

*æŠ¥å‘Šç”Ÿæˆæ—¶é—´ï¼š2025-12-23*

